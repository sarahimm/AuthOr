<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />

  </head>
  <body>
    <main>
      
    </main>
    <div id="welcomeMsg">
      <p>
        Welcome, writer.
      </p><p>
        Allow me to introduce you to B.L.E.H.: Borderline Literate Electronic Helper, your new writing assistant. BLEH is here to help you do your work faster, or better, or...something. Actually, I don't know why its been sent to you, only that management is insistent you try it out. Maybe you can figure out what it's good for?
      </p><p>
        BLEH has been trained by all the best writers. Well, trained might be a strong word. Let's just say it's *acquired skills*, overheard something inspiring, perhaps, from all the best people in print*. It'll listen to you, too. This is Fine and Normal and Management doesn't want you to complain about it. But if you're worried...well, you didn't hear it from me, but you can toggle its surveillance mode on/off using CAPS LOCK.
      </p><p style="color: red;">*the ones we could afford, anyway, or the ones who couldn't complain that we couldn't. And nothing too distasteful, mind you, they've been very careful about these things, I've been assured.
      </p><p>
        Basically, it'll take in anything you write while its red 'RECORDING' light is on. And then when you hit TAB, BLEH will give you some suggestions to continue your piece. Make sure you give it lots of elbow room above, below, and to the right--it gets a little talkative sometimes.
      </p><p>
        Navigate your page as usual, using 	&#8592; 	&#8593;  	&#8594;  	&#8595; to move the cursor, BKSPACE to put some eraser fluid over the last character, RETURN to go to the start of your current line. Your typewriter's still a typewriter, nothing too crazy.
      </p><p>  
        The idea's that you carry on with work as usual, letting BLEH write bits and pieces of...whatever you call that nonsense you churn out for us usually. But Management wants to see your work directly, this time, to make sure the system's working as intended. So if you wanted I suppose you could try to draw it out or argue with it or something if it's not being helpful; those pages will make your point more clearly than anything you've ever penned for us. No offense.
      </p><p> 
        It's up to you. Give it a crack, and have fun??? You can always open this page back up if you need, just click on "WELCOME" in the upper right corner.
      </p>
      <button id="welcomeClose">Proceed</button>
    </div>
    <div id="settingsMenu">
      <form action="#" method="POST">
        <div>
            <label for="systemPrompt">System Prompt:</label>
            <input type="text" id="systemPrompt" name="systemPrompt" maxlength="200" value="You are a writing assistant. Give the most creative word or short phrase to continue the story you're told." required>
        </div>

        <div>
            <label for="temperature">Temperature (0-1):</label>
            <input type="range" id="temperature" name="temperature" min="0" max="1" step="0.01" value="0.5" required>
            <span id="temperatureValue">0.5</span>
        </div>

        <div>
            <label for="prompt">Text to continue:</label>
            <input type="text" id="prompt" name="prompt" maxlength="300" placeholder="Enter text to continue" value="" required>
            <div>
              <label for="autofill">Autofill text that I type:</label>
              <input type="checkbox" id="autofill" name="autofill" checked="checked">
            </div>
        </div>
        <div>
          <label for="maxTokens">Max tokens (1-20):</label>
          <input type="range" id="maxTokens" name="maxTokens" min="1" max="20" value="20" required>
          <span id="maxTokensValue">20</span>
      </div>
        <div>
            <label for="numOptions"># of options (1-5):</label>
            <input type="range" id="numOptions" name="numOptions" min="1" max="5" value="5" required>
            <span id="numOptionsValue">5</span>
        </div>
      </form>
      <button id="settingsClose">X</button>
    </div>
    <div id="btnBar">
      <button id="welcomeOpen">Welcome</button>
      <button id="settingsOpen">Settings</button>
    </div>

    <script src="sketch.js"></script>
    


  <script>
      // Update temperature value display
      document.getElementById('temperature').addEventListener('input', function () {
          document.getElementById('temperatureValue').textContent = this.value;
      });

      // Update number of options value display
      document.getElementById('numOptions').addEventListener('input', function () {
          document.getElementById('numOptionsValue').textContent = this.value;
      });

      document.getElementById('maxTokens').addEventListener('input', function () {
          document.getElementById('maxTokensValue').textContent = this.value;
      });

      //Close settings menu
      document.getElementById('settingsClose').addEventListener('click', function () {
        document.getElementById("settingsMenu").style.display = "none";
      });

      //Open settings menu
      document.getElementById('settingsOpen').addEventListener('click', function () {
        document.getElementById("settingsMenu").style.display = "flex";
      });

      //Close welcome msg
      document.getElementById('welcomeClose').addEventListener('click', function () {
        document.getElementById("welcomeMsg").style.display = "none";
      });

      //Open settings menu
      document.getElementById('welcomeOpen').addEventListener('click', function () {
        document.getElementById("welcomeMsg").style.display = "block";
      });

  </script>
  </body>
</html>
